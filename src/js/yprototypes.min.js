if(String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.asPhone||(String.prototype.asPhone=function(){var a=this.replace(/\D+/g,"");return a.replace(/(\d{2,3})(\d{3})(\d{3})/,"$1-$2-$3")}),String.prototype.abbreviate||(String.prototype.abbreviate=function(a,b){var c=function(){""<h&&(l.length+m.length+h.length+(0<l.length?1:0<0+m.length?1:0)<a?(m=trim(h+" "+m),j++):l.length+m.length+(0<l.length?1:0<0+m.length?1:1)<a&&(m=trim(h.substr(0,1)+"."+m),j++))},d=function(){""<g&&(l.length+m.length+g.length+(0<l.length?1:0<0+m.length?1:0)<a?(l=trim(l+" "+g),j++):l.length+m.length+(0<l.length?1:0<0+m.length?1:1)<a&&(l=trim(l+" "+g.substr(0,1)+"."),j++))};if(b=b||!1,a=str2int(a),0<this.indexOf(" ")){for(var e,f,g,h,j,k=this.toString(),l="",m="";l.length+m.length+1<=a&&(k=trim(k),e=k.indexOf(" "),0>e&&(e=k.length),f=k.lastIndexOf(" "),g=trim(k.substr(0,e)),h="",e<f&&(h=trim(k.substr(f)),k=trim(k.substr(0,f))),k=trim(k.substr(e)),j=0,b?d():c(),g!=h&&(b?c():d()),0!==j););return trim(l+" "+m)}return this.substr(0,a)}),String.prototype.ucFirst||(String.prototype.ucFirst=function(){return this.charAt(0).toUpperCase()+this.slice(1)}),String.prototype.lcFirst||(String.prototype.lcFirst=function(){return this.charAt(0).toLowerCase()+this.slice(1)}),String.prototype.stripTags||(String.prototype.stripTags=function(){return(this||"").replace(/<(?:.|\n)*?>/gm,"")}),String.prototype.repeat||(String.prototype.repeat=function(a,b){return a=a||1,b=b||this,Array(a+1).join(b)}),String.prototype.quoteString||(String.prototype.quoteString=function(a){void 0===a&&(a=!1);var b=this.valueOf();return isNumber(b)?b=parseFloat(b):a&&""===b?b=null:(b=this.replace(/\"/g,"\\\""),b="\""+b+"\""),b}),String.prototype.quote||(String.prototype.quote=function(){var a=this.replace(/\"/g,"\\\"");return"\""+a+"\""}),String.prototype.unquote||(String.prototype.unquote=function(){var a="",b="";return 1<this.length?(a=this.substr(0,1),b=this.substr(this.length-1,1),a==b?"\""==b||"'"==b?this.substr(1,this.length-2):this.toString()+"":"("==a&&")"==b||"["==a&&"]"==b||"{"==a&&"}"==b?this.substr(1,this.length-2):this.toString()+""):this.toString()+""}),String.prototype.format||(String.prototype.format=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(b,c){return"undefined"==typeof a[c]?b:a[c]})}),String.prototype.isCreditCard||(String.prototype.isCreditCard=function(){var a,b,c,d,e,f;c=!0,d=0;var g=this.replace(/\D/g,"");for(b=(g+"").split("").reverse(),e=0,f=b.length;e<f;e++)a=b[e],a=parseInt(a,10),(c=!c)&&(a*=2),9<a&&(a-=9),d+=a;return 0<g.length&&0==d%10}),String.prototype.isEmail||(String.prototype.isEmail=function(){return yMisc.isEmail(this)}),String.prototype.toFloat||(String.prototype.toFloat=function(){if(n=this,n.match(/^-?((\d*[,.]){1,4})?\d*$/)){var a=n.indexOf("."),b=n.indexOf(",");return a<b&&(n=n.replace(".","")),n=n.replace(",","."),parseFloat(n)}return NaN}),!String.prototype.isCPF){function a(c,a){return Math.round(c-Math.floor(c/a)*a)}String.prototype.isCPF=function(){var a,b=this;if(11!=(b=b.replace(/[^\d]/g,"").split("")).length)return!1;if(new RegExp("^"+b[0]+"{11}$").test(b.join("")))return!1;for(a=10,n=0,i=0;2<=a;n+=b[i++]*a--);if(b[9]!=(2>(n%=11)?0:11-n))return!1;for(a=11,n=0,i=0;2<=a;n+=b[i++]*a--);return!(b[10]!=(2>(n%=11)?0:11-n))},String.prototype.gerarCNPJ=function(){var b=Math.round,c=b(9*Math.random()),d=b(9*Math.random()),e=b(9*Math.random()),f=b(9*Math.random()),g=b(9*Math.random()),h=b(9*Math.random()),j=b(9*Math.random()),k=b(9*Math.random()),l=0,m=0,o=0,p=1,q=5*c+4*d+3*e+2*f+9*g+8*h+7*j+6*k+5*l+4*m+3*o+2*p;q=a(q,11);var r=2>q?0:11-q;q=6*c+5*d+4*e+3*f+2*g+9*h+8*j+7*k+6*l+5*m+4*o+3*p+2*r,q=a(q,11);var s=2>q?0:11-q;return""+c+d+"."+e+f+g+"."+h+j+k+"/"+l+m+o+p+"-"+r+s},String.prototype.gerarCPF=function(){var b=Math.round,c=b(9*Math.random()),d=b(9*Math.random()),e=b(9*Math.random()),f=b(9*Math.random()),g=b(9*Math.random()),h=b(9*Math.random()),j=b(9*Math.random()),k=b(9*Math.random()),l=b(9*Math.random()),m=10*c+9*d+8*e+7*f+6*g+5*h+4*j+3*k+2*l;m=a(m,11);var o=2>m?0:11-m;m=11*c+10*d+9*e+8*f+7*g+6*h+5*j+4*k+3*l+2*o,m=a(m,11);var p=2>m?0:11-m;return""+c+d+e+"."+f+g+h+"."+j+k+l+"-"+o+p}}String.prototype.isCNPJ||(String.prototype.isCNPJ=function(){var a,d=[6,5,4,3,2,9,8,7,6,5,4,3,2],b=this;if(14!=(b=b.replace(/[^\d]/g,"").split("")).length)return!1;for(a=0,n=0;12>a;n+=b[a]*d[++a]);if(b[12]!=(2>(n%=11)?0:11-n))return!1;for(a=0,n=0;12>=a;n+=b[a]*d[a++]);return!(b[13]!=(2>(n%=11)?0:11-n))}),Function.prototype.method=function(a,b){return this.prototype[a]=b,this},Function.method("inherits",function(a){return this.prototype=new a,this}),("object"==typeof HTMLElement||"function"==typeof HTMLElement)&&(HTMLElement.prototype.hasClass=function(a){var b=!1;if(this.className)for(var c=a.indexOf("*"),d=this.className.split(" "),e=0;e<d.length;e++)0<=c?d[e].substr(0,c)==a.substr(0,c)&&(b=!0):d[e]==a&&(b=!0);return b},HTMLElement.prototype.setOpacity=function(a){a=Math.max(0,Math.min(a,100)),this.style.opacity=a/100,this.style.filter="alpha(opacity={0})".format(a)},HTMLElement.prototype.deleteClass=function(a){for(var b="",c=this.className.split(" "),d=(a||"").split(" "),e=0;e<c.length;e++)0>d.indexOf(c[e])&&(b=b+" "+c[e]);return this.className=trim(b),this},HTMLElement.prototype.removeClass=HTMLElement.prototype.deleteClass,HTMLElement.prototype.addClass=function(a){for(var b=!1,c=this.className,d=this.className.split(" "),e=(a||"").split(" "),f=0;f<e.length;f++)0>d.indexOf(e[f])&&(c=c+" "+e[f],b=!0);return b&&(this.className=trim(c)),this},HTMLElement.prototype.siblings=function(){return function(a,b){for(var c=[];a;)a!=b&&1==a.nodeType&&c.push(a),a=a.nextSibling;return c}(this.parentNode.firstChild,this)},!HTMLElement.prototype.getAttribute&&(HTMLElement.prototype.getAttribute=function(a){for(var b="",c=0;c<this.attributes.length;c++)this.attributes[c].name==a&&(b=attributes[c].value);return b}),!HTMLElement.prototype.block&&(HTMLElement.prototype.block=function(){return this.setAttribute("blocked","blocked"),this}),!HTMLElement.prototype.unblock&&(HTMLElement.prototype.unblock=function(){return this.removeAttribute("blocked"),this}),!HTMLElement.prototype.isBlocked&&(HTMLElement.prototype.isBlocked=function(){var a=this.getAttribute("blocked");return"string"==typeof a&&"blocked"==a.toLowerCase()}),!HTMLElement.prototype.lock&&(HTMLElement.prototype.lock=function(){return this.isBlocked()||(this.readOnly=!0),this}),!HTMLElement.prototype.unlock&&(HTMLElement.prototype.unlock=function(){return this.isBlocked()||(this.readOnly=!1),this}),!HTMLElement.prototype.selected&&(HTMLElement.prototype.selected=function(){var a=this;if("object"==typeof this.list){var b=trim(this.value),c=this.list.options;for(var d in c)if(c.hasOwnProperty(d)&&trim(c[d].innerHTML)==b){a=c[d];break}}return a})),"function"!=typeof Object.create&&(Object.create=function(a){var b=function(){};return b.prototype=a,new b}),Array.prototype.forEach||(Array.prototype.forEach=function(a){"use strict";if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=2<=arguments.length?arguments[1]:void 0,e=0;e<c;e++)e in b&&a.call(d,b[e],e,b)}),Array.prototype.unique||(Array.prototype.unique=function(){var b=this;return b.filter(function(a,c){return b.indexOf(a)==c})}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=Math.ceil,c=Math.floor,d=this.length>>>0,e=+arguments[1]||0;for(e=0>e?b(e):c(e),0>e&&(e+=d);e<d;e++)if(e in this&&this[e]===a)return e;return-1}),"undefined"==typeof Date.prototype.getFirstDayOfWeek&&(Date.prototype.getFirstDayOfWeek=function(a){a=a||0;var b=new Date(this.getTime());for(b.setHours(0,0,0,0);b.getDay()!=a;)b.setDate(b.getDate()-1),b.setHours(0,0,0,0);return b}),"undefined"==typeof Date.prototype.monthFirstDOW&&(Date.prototype.monthFirstDOW=function(a){var b=new Date((a||this).getTime());return b.setDate(1),b.getDay()}),"undefined"==typeof Date.prototype.monthLastDay&&(Date.prototype.monthLastDay=function(a){var b=new Date((a||this).getTime());return new Date(b.getYear(),b.getMonth()+1,0).getDate()}),"undefined"==typeof Date.prototype.monthLastDOW&&(Date.prototype.monthLastDOW=function(a){var b=new Date((a||this).getTime());return b.setDate(this.monthLastDay(b)),b.getDay()}),"undefined"==typeof Date.prototype.nextMonth&&(Date.prototype.nextMonth=function(a){var b=new Date((a||this).getTime()),c=b.getMonth();return b.setMonth(c+1),b.getMonth()!=c+1&&0!==b.getMonth()&&b.setDate(0),b}),"undefined"==typeof Date.prototype.prevMonth&&(Date.prototype.prevMonth=function(a){var b=new Date((a||this).getTime()),c=b.getMonth();return b.setMonth(c-1),b.getMonth()!=c-1&&(11!=b.getMonth()||11==c&&1==b.getDate())&&b.setDate(0),b}),"undefined"==typeof Date.prototype.incMonth&&(Date.prototype.incMonth=function(a){var b=this.getMonth();this.setMonth(b+a),this.getMonth()!=b+a&&(11!=this.getMonth()||11==b&&1==this.getDate())&&this.setDate(0)}),"undefined"==typeof Date.prototype.incDay&&(Date.prototype.incDay=function(){this.setDate(this.getDate()+1)}),"undefined"==typeof Date.prototype.decDay&&(Date.prototype.decDay=function(){this.setDate(this.getDate()-1)}),"undefined"==typeof Date.prototype.incWeek&&(Date.prototype.incWeek=function(){this.setDate(this.getDate()+7)}),"undefined"==typeof Date.prototype.decWeek&&(Date.prototype.decWeek=function(){this.setDate(this.getDate()-7)}),"undefined"==typeof Date.prototype.daysInMonth&&(Date.prototype.daysInMonth=function(a,b){return b||(b=this.getFullYear()),a||(a=this.getMonth()+1),32-new Date(parseInt(b),parseInt(a)-1,32).getDate()}),"undefined"==typeof Date.prototype.toFrenchString&&(Date.prototype.toFrenchString=function(){return""+this.getDate()+"/"+(this.getMonth()+1)+"/"+this.getFullYear()}),"undefined"==typeof Date.prototype.toUDate&&(Date.prototype.toUDate=function(){return""+pad(this.getFullYear(),4)+pad(this.getMonth()+1,2)+pad(this.getDate(),2)+pad(this.getHours(),2)+pad(this.getMinutes(),2)+pad(this.getSeconds(),2)}),"undefined"==typeof Date.prototype.toISOString&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+pad(this.getUTCMonth()+1,2)+"-"+pad(this.getUTCDate(),2)+"T"+pad(this.getUTCHours(),2)+":"+pad(this.getUTCMinutes(),2)+":"+pad(this.getUTCSeconds(),2)+"."+((this.getUTCMilliseconds()/1e3).toFixed(3)+"").slice(2,5)+"Z"}),"undefined"==typeof Date.prototype.frenchFormat&&(Date.prototype.frenchFormat=function(){return this.getDate()+"/"+(this.getMonth()+1)+"/"+this.getFullYear()}),Date.prototype.getWeekNumber=function(){var a=new Date(Date.UTC(this.getFullYear(),this.getMonth(),this.getDate())),b=a.getUTCDay()||7;a.setUTCDate(a.getUTCDate()+4-b);var c=new Date(Date.UTC(a.getUTCFullYear(),0,1));return Math.ceil(((a-c)/864e5+1)/7)},Date.prototype.stdTimezoneOffset=function(){var a=new Date(this.getFullYear(),0,1),b=new Date(this.getFullYear(),6,1);return Math.max(a.getTimezoneOffset(),b.getTimezoneOffset())},Date.prototype.dst=function(){return this.getTimezoneOffset()<this.stdTimezoneOffset()};var extractDateValues=function(a,b,c){var d,e=function(a){var b=(a.match(/\//g)||[]).length,c=(a.match(/\-/g)||[]).length;return b>c?"/":0<c?"-":""},f=e(b),g=e(a),h=null;if(""<f){h=[];var j=b.split(f);for(d=0;d<j.length;d++)h[j[d].substr(0,1)]=d;for(var k=a.split(f);k.length<j.length;)a=a+f+"01",k[k.length]=0}var l,m=function(c){var d=b.indexOf(c),e=0;if(0<=d){for(var g;d+e<b.length&&b.substr(d+e,1)==c;)e++;return g=0<(c.match(/[y,m,d]/g)||[]).length&&null!==h?a.split(f)[h[c]].split(" ")[0]:str2int(a.substr(d,e)),[d,g,c,e]}return[null,null,c]},o=function(){return a.match(/\b[\d]+\b/g)},p=function(a){for(var b,c=[],d=0;d<a.length;d++)b=a[d][1],null!==b&&(b=b.toString(),1==b.length?b=pad(b,2):3==b.length&&(b=pad(b,4))),c[a[d][2]]=b;return c};if(void 0===b&&(b="yyyy-mm-ddThh:mm:ss"),""===a)return l=[],l.y="",l.d="",l.m="",l.H="",l.M="",l.S="",l;if(void 0===c&&(c={}),c.elems=[m("y"),m("m"),m("d"),m("H"),m("M"),m("S")],g==f&&0<c.elems[1][1]&&13>c.elems[1][1]&&1<=c.elems[2][1]&&31>=c.elems[2][1])l=p(c.elems);else{var q=c.elems;q.sort(function(c,a){return null==a[0]?-1:null==c[0]?1:c[0]===a[0]?0:c[0]<a[0]?-1:c[0]>a[0]?1:void 0});var r=o(),s=1;for(d=0;d<q.length&&d<(r||[]).length;d++)q[d][1]=r[d],s*=q[d][1];l=0<s?p(q):null}return l},array2date=function(a){return pad(a.d,2)+"-"+pad(a.m,2)+"-"+a.y};function time2minutes(a){(void 0===a||"NaN"==a)&&(a=0);var b=0,c=0;if(""<a){a=""+a+" ";var d=a.indexOf("h");0>d&&(d=a.indexOf(":")),0<=d?(b=a.substring(0,d),c=parseInt(a.substring(d+1)),isNaN(c)&&(c=0)):(b=0,c=parseInt(a)),a=60*b+c}return 0>a&&(a=0),a}function minutes2time(a){var b=pad(Math.floor(a/60),2),c=pad(a%60,2);return b+":"+c}function timestamp2dayOfWeek(a){var b=new Date;return b.setTime(1e3*a),b.getDay()}function TimezoneDetect(){var a,b,c,d,e=new Date("1/1/"+new Date().getUTCFullYear()),f=1e4;for(a=0;12>a;a++)e.setUTCMonth(e.getUTCMonth()+1),f>-1*e.getTimezoneOffset()&&(f=-1*e.getTimezoneOffset());return f}function timestamp2date(a){if(!isNaN(a)&&""<a){var b=new Date;return b.setTime(1e3*a+1e3*(60*(-TimezoneDetect()-b.getTimezoneOffset()))),pad(b.getDate(),2)+"/"+pad(b.getMonth()+1,2)+"/"+pad(b.getFullYear(),4)}return""}function timestamp2time(a,b){var c;if(a===void 0)c="";else if(""===a||isNaN(a))c="";else{b===void 0&&(b=!1);var d=new Date;d.setTime(1e3*a),c=pad(d.getHours(),2)+":"+pad(d.getMinutes(),2),b&&(c=c+":"+pad(d.getSeconds(),2))}return c}function FDate2UDate(b){b=b||new Date("1/1/1900").toFrenchString(),b=0<b.indexOf("/")?b.split("/"):b.split("-");var c=b[2]||"";return c=c.split(" "),b[2]=c[0],c=c[1],void 0===c&&(c="00:00:00"),c=c.split(":"),void 0===c[1]&&(c[1]=0),void 0===c[2]&&(c[2]=0),pad(b[2],4)+"-"+pad(b[1],2)+"-"+pad(b[0],2)+" "+pad(c[0],2)+":"+pad(c[1],2)+":"+pad(c[2],2)}function UDate2JSDate(a){var b=extractDateValues(a,"yyyymmddHHMMSS"),c=new Date(b.y,b.m-1,b.d,b.H,b.M,b.S);return c}function UDate2Date(a,b){"undefined"==typeof b&&(b="d/m/y");var c="",d=extractDateValues(a,"yyyymmddHHMMSS");if(null!==d)for(var e=0;e<b.length;e++)c+=/^[d,m,y]+$/.test(b[e])?d[b[e]]:b[e];return"//"==c&&(c=""),c}function UDate2Time(a,b){"undefined"==typeof b&&(b="H:M:S");var c="",d=extractDateValues(a,"yyyymmddHHMMSS");if(d){c="";for(var e=0;e<b.length;e++)c+=/^[H,M,S]+$/.test(b[e])?d[b[e]]:b[e]}return"::"==c&&(c=""),c}function IBDate2Date(a){var b="",c=extractDateValues(a,"mmddyyyyHHMMSS");return c&&(b=c.d+"-"+c.m+"-"+c.y),b}function date2IBDate(a){var b="",c=extractDateValues(a,"ddmmyyyyHHMMSS");return c&&(b=pad(c.m,2)+"-"+pad(c.d,2)+"-"+c.y),b}function date2UDate(a){var b="",c=extractDateValues(a,"ddmmyyyyHHMMSS");return c&&(b=pad(c.y,4)+"-"+pad(c.m,2)+"-"+pad(c.d,2)),b}function IBDate2timestamp(b){return b=IBDate2Date(b),b=date2timestamp(b),b}function timestamp2IBDate(b){return b=timestamp2date(b),b=date2IBDate(b),b}var dateTransform=function(a,b,c){if(a){var d=c,f=extractDateValues(a,b);if(f)for(var g,h={},j=extractDateValues("111111111111",c,h),k=0;k<h.elems.length;k++)if(g=h.elems[k],null!==g[0]){for(var l=pad(f[g[2]],g[3]);d.length<g[0]+g[3];)d+=" ";d=d.substr(0,g[0])+l+d.substr(g[0]+g[3],d.length)}return d}return null},isValidDate=function(a){var b,c=!0;"string"==typeof a&&(a=dateTransform(a,"dd/mm/yyyy","yyyy-mm-ddT12:59:59"));try{b=new Date(a)}catch(a){c=!1}if(c)if(!isNaN(b.getTime())){var e=dateTransform(b.getFullYear()+"/"+(b.getMonth()+1)+"/"+b.getDate(),"yyyy/mm/dd","yyyy-mm-ddT12:59:59");c=e==a}else c=!1;return c},isValidTime=function(a){var b=!1,c=(a||"").match(/^\d{1,2}:\d{1,2}(:\d{1,2}){0,1}$/)||[];if(0<c.length){for(c=c[0].split(":");3>c.length;)c[c.length]="00";b=0<=c[0]&&23>=c[0]&&0<=c[1]&&59>=c[1]&&0<=c[2]&&59>=c[2]}return b},dateInRange=function(a,b,c){var d=!1;return isValidDate(a)&&(b=b||new Date().toFrenchString(),c=c||new Date().toFrenchString(),isValidDate(b)&&isValidDate(c)&&(a=dateTransform(a,"dd/mm/yyyy","yyyy-mm-dd"),b=dateTransform(b,"dd/mm/yyyy","yyyy-mm-dd"),c=dateTransform(c,"dd/mm/yyyy","yyyy-mm-dd"),d=a>=b&&a<=c)),d};